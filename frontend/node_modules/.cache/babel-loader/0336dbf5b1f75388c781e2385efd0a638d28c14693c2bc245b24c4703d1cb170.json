{"ast":null,"code":"var _jsxFileName = \"/Users/mohsinidrees/Desktop/cognito_project/frontend/src/components/authentication/Signup.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Headercontext } from \"../Maincontext/HeaderData\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Layout from \"../layout\";\nimport Innerlayout from \"../layout/Innerlayout\";\nimport Inputbox from \"../common/Inputbox\";\nimport Error from \"../common/Error\";\nimport Passwordbox from \"../common/Passwordbox\";\nimport { Link } from \"react-router-dom\";\nimport { poolData } from \"../../config/cognito\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    token,\n    setSignup,\n    setLogin,\n    setToastMessage\n  } = useContext(Headercontext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState({\n    isError: false,\n    message: \"\"\n  });\n  var AmazonCognitoIdentity = require(\"amazon-cognito-identity-js\");\n  useEffect(() => {\n    setError({\n      isError: false,\n      message: \"\"\n    });\n  }, [email, password, name, confirmpassword]);\n  var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n  var attributeList = [];\n  var dataEmail = {\n    Name: \"email\",\n    Value: email\n  };\n  var dataName = {\n    Name: \"name\",\n    Value: name\n  };\n  var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(dataEmail);\n  var attributeName = new AmazonCognitoIdentity.CognitoUserAttribute(dataName);\n  attributeList.push(attributeEmail);\n  attributeList.push(attributeName);\n  const onSubmit = e => {\n    e.preventDefault();\n    if (password != confirmpassword) {\n      setError({\n        isError: true,\n        message: \"Passwords do not match\"\n      });\n    } else {\n      userPool.signUp(email, password, attributeList, null, function (err, result) {\n        if (err) {\n          setError({\n            isError: true,\n            message: err.message || JSON.stringify(err)\n          });\n          return;\n        }\n        setError({\n          isError: false,\n          message: \"\"\n        });\n        navigate(\"/verify\");\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Innerlayout, {\n      heading: \"Sign up\",\n      onSubmit: e => onSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(Inputbox, {\n        type: \"email\",\n        placeholder: \"Email*\",\n        required: true,\n        handlechange: e => {\n          setEmail(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Inputbox, {\n        type: \"text\",\n        placeholder: \"Name*\",\n        required: true,\n        handlechange: e => {\n          setName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Passwordbox, {\n        placeholder: \"Password*\",\n        required: true,\n        handlechange: e => {\n          setPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Passwordbox, {\n        placeholder: \"Confirm Passsword*\",\n        required: true,\n        handlechange: e => {\n          setConfirmPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), error.isError && /*#__PURE__*/_jsxDEV(Error, {\n        errormessage: error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Signup-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signup-cancel\",\n            children: \"CANCEL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"signup-button\",\n          type: \"submit\",\n          children: \"SIGN UP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(Signup, \"IJc+QhhpYcLtlDOGwvPiXWhHiXk=\", false, function () {\n  return [useNavigate];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Headercontext","Layout","Innerlayout","Inputbox","Error","Passwordbox","Link","poolData","useNavigate","jsxDEV","_jsxDEV","Signup","_s","navigate","token","setSignup","setLogin","setToastMessage","email","setEmail","password","setPassword","confirmpassword","setConfirmPassword","name","setName","error","setError","isError","message","AmazonCognitoIdentity","require","userPool","CognitoUserPool","attributeList","dataEmail","Name","Value","dataName","attributeEmail","CognitoUserAttribute","attributeName","push","onSubmit","e","preventDefault","signUp","err","result","JSON","stringify","children","heading","type","placeholder","required","handlechange","target","value","fileName","_jsxFileName","lineNumber","columnNumber","errormessage","className","to","_c","$RefreshReg$"],"sources":["/Users/mohsinidrees/Desktop/cognito_project/frontend/src/components/authentication/Signup.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Headercontext } from \"../Maincontext/HeaderData\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Layout from \"../layout\";\nimport Innerlayout from \"../layout/Innerlayout\";\nimport Inputbox from \"../common/Inputbox\";\nimport Error from \"../common/Error\";\nimport Passwordbox from \"../common/Passwordbox\";\nimport { Link } from \"react-router-dom\";\nimport { poolData } from \"../../config/cognito\";\n\nimport { useNavigate } from \"react-router-dom\";\n\nconst Signup = () => {\n  const navigate = useNavigate();\n  const { token, setSignup, setLogin, setToastMessage } =\n    useContext(Headercontext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\n\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState({\n    isError: false,\n    message: \"\",\n  });\n\n  var AmazonCognitoIdentity = require(\"amazon-cognito-identity-js\");\n\n  useEffect(() => {\n    setError({\n      isError: false,\n      message: \"\",\n    });\n  }, [email, password, name, confirmpassword]);\n\n \n\n  var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n\n  var attributeList = [];\n\n  var dataEmail = {\n    Name: \"email\",\n    Value: email,\n  };\n\n  var dataName = {\n    Name: \"name\",\n    Value: name,\n  };\n\n  var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(\n    dataEmail\n  );\n\n  var attributeName = new AmazonCognitoIdentity.CognitoUserAttribute(dataName);\n\n  attributeList.push(attributeEmail);\n  attributeList.push(attributeName);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (password != confirmpassword) {\n      setError({\n        isError: true,\n        message: \"Passwords do not match\",\n      });\n    } else {\n      userPool.signUp(\n        email,\n        password,\n        attributeList,\n        null,\n        function (err, result) {\n          if (err) {\n            setError({\n              isError: true,\n              message: err.message || JSON.stringify(err),\n            });\n            return;\n          }\n          setError({\n            isError: false,\n            message: \"\",\n          });\n          navigate(\"/verify\");\n        }\n      );\n    }\n  };\n\n  return (\n    <Layout>\n      <Innerlayout heading={\"Sign up\"} onSubmit={(e) => onSubmit(e)}>\n        <Inputbox\n          type=\"email\"\n          placeholder=\"Email*\"\n          required\n          handlechange={(e) => {\n            setEmail(e.target.value);\n          }}\n        />\n        <Inputbox\n          type=\"text\"\n          placeholder=\"Name*\"\n          required\n          handlechange={(e) => {\n            setName(e.target.value);\n          }}\n        />\n        <Passwordbox\n          placeholder=\"Password*\"\n          required\n          handlechange={(e) => {\n            setPassword(e.target.value);\n          }}\n        />\n        <Passwordbox\n          placeholder=\"Confirm Passsword*\"\n          required\n          handlechange={(e) => {\n            setConfirmPassword(e.target.value);\n          }}\n        />\n        {error.isError && <Error errormessage={error.message} />}\n        <div className=\"Signup-buttons\">\n          <Link to=\"/\">\n            <div className=\"signup-cancel\">CANCEL</div>\n          </Link>\n\n          <button className=\"signup-button\" type=\"submit\">\n            SIGN UP\n          </button>\n        </div>\n      </Innerlayout>\n    </Layout>\n  );\n};\n\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}