{"ast":null,"code":"var _jsxFileName = \"/Users/mohsinidrees/Desktop/cognito_project/frontend/src/components/authentication/Signup.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Headercontext } from \"../Headerdata/HeaderData\";\nimport SocialButton from \"./SocialButton\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Layout from \"../layout\";\nimport Innerlayout from \"../layout/Innerlayout\";\nimport Inputbox from \"../common/Inputbox\";\nimport Error from \"../common/Error\";\nimport Passwordbox from \"../common/Passwordbox\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    token,\n    setSignup,\n    setLogin,\n    setToastMessage\n  } = useContext(Headercontext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [userConfirm, setUserConfirm] = useState(false);\n  const [confirmCode, setConfirmCode] = useState(\"\");\n  const [passwordIcon, setPasswordIcon] = useState(true);\n  const [loader, setLoader] = useState(false);\n  const [error, setError] = useState({\n    isError: false,\n    message: \"\"\n  });\n  var AmazonCognitoIdentity = require(\"amazon-cognito-identity-js\");\n  useEffect(() => {\n    setError({\n      isError: false,\n      message: \"\"\n    });\n  }, [email, password, name, confirmCode, confirmpassword]);\n  const poolData = {\n    UserPoolId: \"ap-northeast-1_ZpGAnFl7V\",\n    ClientId: \"7c3np67ouk443m5mmer7ajmi2\"\n  };\n  var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n  var attributeList = [];\n  var dataEmail = {\n    Name: \"email\",\n    Value: email\n  };\n  var dataName = {\n    Name: \"name\",\n    Value: name\n  };\n  var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(dataEmail);\n  var attributeName = new AmazonCognitoIdentity.CognitoUserAttribute(dataName);\n  attributeList.push(attributeEmail);\n  attributeList.push(attributeName);\n  const onSubmit = e => {\n    e.preventDefault();\n    if (password != confirmpassword) {\n      setError({\n        isError: true,\n        message: \"Passwords do not match\"\n      });\n    } else {\n      setLoader(true);\n      // if (!userConfirm) {\n      userPool.signUp(email, password, attributeList, null, function (err, result) {\n        if (err) {\n          // toast(err.message || JSON.stringify(err));\n          setLoader(false);\n          setError({\n            isError: true,\n            message: err.message || JSON.stringify(err)\n          });\n          return;\n        }\n        setLoader(false);\n        setUserConfirm(true);\n        console.log(result, \"resultsss\");\n        setError({\n          isError: false,\n          message: \"\"\n        });\n        navigate(\"/verify\");\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Innerlayout, {\n      heading: \"Sign up\",\n      onSubmit: e => onSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(Inputbox, {\n        type: \"email\",\n        placeholder: \"Email*\",\n        required: true,\n        handlechange: e => {\n          setEmail(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Inputbox, {\n        type: \"text\",\n        placeholder: \"Name\",\n        handlechange: e => {\n          setName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Passwordbox, {\n        placeholder: \"Password*\",\n        required: true,\n        handlechange: e => {\n          setPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Passwordbox, {\n        placeholder: \"Confirm Passsword*\",\n        required: true,\n        handlechange: e => {\n          setConfirmPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), error.isError && /*#__PURE__*/_jsxDEV(Error, {\n        errormessage: error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Signup-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signup-cancel\",\n            children: \"CANCEL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"signup-button\",\n          type: \"submit\",\n          children: \"SIGN UP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n_s(Signup, \"Hyautu2X1mE9knuqc4jL3cBR6kg=\", false, function () {\n  return [useNavigate];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Headercontext","SocialButton","ToastContainer","Layout","Innerlayout","Inputbox","Error","Passwordbox","Link","useNavigate","jsxDEV","_jsxDEV","Signup","_s","navigate","token","setSignup","setLogin","setToastMessage","email","setEmail","password","setPassword","confirmpassword","setConfirmPassword","name","setName","userConfirm","setUserConfirm","confirmCode","setConfirmCode","passwordIcon","setPasswordIcon","loader","setLoader","error","setError","isError","message","AmazonCognitoIdentity","require","poolData","UserPoolId","ClientId","userPool","CognitoUserPool","attributeList","dataEmail","Name","Value","dataName","attributeEmail","CognitoUserAttribute","attributeName","push","onSubmit","e","preventDefault","signUp","err","result","JSON","stringify","console","log","children","heading","type","placeholder","required","handlechange","target","value","fileName","_jsxFileName","lineNumber","columnNumber","errormessage","className","to","_c","$RefreshReg$"],"sources":["/Users/mohsinidrees/Desktop/cognito_project/frontend/src/components/authentication/Signup.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Headercontext } from \"../Headerdata/HeaderData\";\nimport SocialButton from \"./SocialButton\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Layout from \"../layout\";\nimport Innerlayout from \"../layout/Innerlayout\";\nimport Inputbox from \"../common/Inputbox\";\nimport Error from \"../common/Error\";\nimport Passwordbox from \"../common/Passwordbox\";\nimport { Link } from \"react-router-dom\";\n\nimport { useNavigate } from \"react-router-dom\";\n\nconst Signup = () => {\n  const navigate = useNavigate();\n  const { token, setSignup, setLogin, setToastMessage } =\n    useContext(Headercontext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\n\n  const [name, setName] = useState(\"\");\n  const [userConfirm, setUserConfirm] = useState(false);\n  const [confirmCode, setConfirmCode] = useState(\"\");\n  const [passwordIcon, setPasswordIcon] = useState(true);\n  const [loader, setLoader] = useState(false);\n  const [error, setError] = useState({\n    isError: false,\n    message: \"\",\n  });\n\n  var AmazonCognitoIdentity = require(\"amazon-cognito-identity-js\");\n\n  useEffect(() => {\n    setError({\n      isError: false,\n      message: \"\",\n    });\n  }, [email, password, name, confirmCode, confirmpassword]);\n\n  const poolData = {\n    UserPoolId: \"ap-northeast-1_ZpGAnFl7V\",\n    ClientId: \"7c3np67ouk443m5mmer7ajmi2\",\n  };\n\n  var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n\n  var attributeList = [];\n\n  var dataEmail = {\n    Name: \"email\",\n    Value: email,\n  };\n\n  var dataName = {\n    Name: \"name\",\n    Value: name,\n  };\n\n  var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(\n    dataEmail\n  );\n\n  var attributeName = new AmazonCognitoIdentity.CognitoUserAttribute(dataName);\n\n  attributeList.push(attributeEmail);\n  attributeList.push(attributeName);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (password != confirmpassword) {\n      setError({\n        isError: true,\n        message: \"Passwords do not match\",\n      });\n    } else {\n      setLoader(true);\n      // if (!userConfirm) {\n      userPool.signUp(\n        email,\n        password,\n        attributeList,\n        null,\n        function (err, result) {\n          if (err) {\n            // toast(err.message || JSON.stringify(err));\n            setLoader(false);\n            setError({\n              isError: true,\n              message: err.message || JSON.stringify(err),\n            });\n            return;\n          }\n          setLoader(false);\n          setUserConfirm(true);\n          console.log(result, \"resultsss\");\n          setError({\n            isError: false,\n            message: \"\",\n          });\n          navigate(\"/verify\");\n        }\n      );\n    }\n  };\n\n  return (\n    <Layout>\n      <Innerlayout heading={\"Sign up\"} onSubmit={(e) => onSubmit(e)}>\n        <Inputbox\n          type=\"email\"\n          placeholder=\"Email*\"\n          required\n          handlechange={(e) => {\n            setEmail(e.target.value);\n          }}\n        />\n        <Inputbox\n          type=\"text\"\n          placeholder=\"Name\"\n          handlechange={(e) => {\n            setName(e.target.value);\n          }}\n        />\n        <Passwordbox\n          placeholder=\"Password*\"\n          required\n          handlechange={(e) => {\n            setPassword(e.target.value);\n          }}\n        />\n        <Passwordbox\n          placeholder=\"Confirm Passsword*\"\n          required\n          handlechange={(e) => {\n            setConfirmPassword(e.target.value);\n          }}\n        />\n        {error.isError && <Error errormessage={error.message} />}\n        <div className=\"Signup-buttons\">\n          <Link to=\"/\">\n            <div className=\"signup-cancel\">CANCEL</div>\n          </Link>\n\n          <button className=\"signup-button\" type=\"submit\">\n            SIGN UP\n          </button>\n        </div>\n      </Innerlayout>\n      <ToastContainer />\n\n    </Layout>\n  );\n};\n\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}