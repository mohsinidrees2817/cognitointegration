{"ast":null,"code":"var _jsxFileName = \"/Users/mohsinidrees/Desktop/cognito_project/cognito_integration/src/components/Headerdata/HeaderData.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect, createContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CognitoAuth } from \"amazon-cognito-auth-js\";\nimport data from \"../../../data/navigation.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Headercontext = /*#__PURE__*/createContext();\nconst HeaderData = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const navigate = useNavigate();\n  const [primaryCategories, setPrimaryCategories] = useState([]);\n  const [subCategory, setSubCategory] = useState([]);\n  const [allBrands, setAllbrands] = useState();\n  const [sortedproducts, setsortedProducts] = useState([]);\n  const [sortedproductsduplicate, setsortedProductsduplicate] = useState([]);\n  const [selectedBrand, setSelectedBrand] = useState(\"\");\n  const [selectedPrimaryCategory, setSelectedPrimaryCategory] = useState(\"\");\n  const [PrimaryCategoriesData, setPrimaryCategoriesData] = useState([]);\n  const [selectedSubcategory, setselectedSubcategory] = useState(\"\");\n  const [toggle, setToggle] = useState(false);\n  const [searchterm, setsearchterm] = useState(\"\");\n  const [showFilter, setShowfilters] = useState(false);\n  const [showSort, setShowsort] = useState(false);\n  const [searchedProducts, setsearchedProducts] = useState(sortedproducts);\n  const [brandData, setBrandData] = useState([]);\n  const [subcategoriesData, setSubCategoriesData] = useState([]);\n  const [lenghtofsearch, setlengthofseacrh] = useState(0);\n  const [favourite, setFavourite] = useState([]);\n  const [favoriteArray, setFavoruitearray] = useState([]);\n  const [imageLoad, setImageLoad] = useState(true);\n  const [page, setPage] = useState(1);\n  const [allData, setAlldata] = useState([]);\n  const [scrollWidth, setScrollWidth] = useState(window.innerWidth - document.body.clientWidth);\n  const [userID, setUserid] = useState(\"\");\n\n  // states for displaying popups\n  const [login, setLogin] = useState(false);\n  const [signup, setSignup] = useState(false);\n  const [forgetPassword, setForgetPassword] = useState(false);\n  const [confirmUser, setConfirmUser] = useState(false);\n\n  // react toast notification\n  const [toastmessage, setToastMessage] = useState({\n    display: false,\n    message: \"\"\n  });\n\n  // loader for social icons\n  const [googleLoader, setGoogleloader] = useState(false);\n  const [facebookLoader, setFacebookloader] = useState(false);\n  const [token, setToken] = useState(null);\n  const [userDetails, setUserDetails] = useState({});\n  const [active, setActive] = useState({\n    value: \"unattended\",\n    content: \"Sort by Price\"\n  });\n  const categories = [{\n    value: \"lowestprice\",\n    content: \"Sort by Price (lowest)\"\n  }, {\n    value: \"highestprice\",\n    content: \"Sort by Price (highest)\"\n  }];\n\n  // sorting according to lowest/highest, categories, brands, subcatgories\n  const sorting = async (e, index, sorttype, subcategoryname) => {\n    const scrollBarWidth = window.innerWidth - document.body.clientWidth;\n    window.scrollTo(0, 0);\n    let sorteddata = [...sortedproducts];\n    if (e == \"All\") {\n      sorteddata.sort((a, b) => a.discountPrice - b.discountPrice);\n      setselectedSubcategory(\"Products\");\n    } else if (e == \"lowestprice\") {\n      sorteddata.sort((a, b) => a.newPrice - b.newPrice);\n      setsortedProducts(sorteddata);\n      setsortedProductsduplicate(sorteddata);\n      setToggle(false);\n      let selected = categories === null || categories === void 0 ? void 0 : categories.find(item => item.value == e);\n      setActive(selected);\n    } else if (e == \"highestprice\") {\n      sorteddata.sort((a, b) => b.newPrice - a.newPrice);\n      setsortedProducts(sorteddata);\n      setsortedProductsduplicate(sorteddata);\n      setToggle(false);\n      let selected = categories === null || categories === void 0 ? void 0 : categories.find(item => item.value == e);\n      setActive(selected);\n    } else if (sorttype == \"brands\") {\n      if (e !== selectedBrand) {\n        setPage(1);\n        setImageLoad(true);\n        setselectedSubcategory(\"\");\n        let filteredBrands = allData;\n        let brand = filteredBrands.filter(brand => {\n          return brand.name.includes(e);\n        });\n        let filteredItems = data[index];\n        const primaryCategories = filteredItems.categories.map(products => {\n          return products;\n        });\n        setPrimaryCategories(primaryCategories);\n        setBrandData(data[index]);\n        let Items = brand[0].data;\n        let filteredProducts = Items.filter(products => {\n          var _products$category;\n          return (_products$category = products.category) === null || _products$category === void 0 ? void 0 : _products$category.includes(filteredItems.categories[0].name);\n        });\n        setSelectedBrand(e);\n        setPrimaryCategoriesData(brand[0].data);\n        setSelectedPrimaryCategory(filteredItems.categories[0].name);\n        setsortedProducts(filteredProducts);\n        setsortedProductsduplicate(filteredProducts);\n        setSubCategoriesData(filteredProducts);\n        setSubCategory(filteredItems.categories[0].subCategories);\n      }\n    } else if (sorttype == \"categories\") {\n      if (e !== selectedPrimaryCategory) {\n        setPage(1);\n        setImageLoad(true);\n        setselectedSubcategory(\"\");\n        let filteredItems = PrimaryCategoriesData;\n        let filteredProducts = filteredItems.filter(products => {\n          var _products$category2;\n          return (_products$category2 = products.category) === null || _products$category2 === void 0 ? void 0 : _products$category2.includes(e);\n        });\n        setsortedProducts(filteredProducts);\n        setsortedProductsduplicate(filteredProducts);\n        setSubCategoriesData(filteredProducts);\n        setSelectedPrimaryCategory(e);\n        if (filteredProducts.length < 8) {\n          if (scrollBarWidth > 0) {\n            setScrollWidth(scrollBarWidth);\n          }\n        } else {\n          setScrollWidth(0);\n        }\n        let Items = brandData;\n        setSubCategory(Items.categories[index].subCategories);\n      }\n    } else if (sorttype == \"subcategories\") {\n      setPage(1);\n      let filteredItems = subcategoriesData;\n      let filteredProducts = filteredItems.filter(product => {\n        var _product$subSubCatego;\n        return (_product$subSubCatego = product.subSubCategory) === null || _product$subSubCatego === void 0 ? void 0 : _product$subSubCatego.includes(e);\n      });\n      setsortedProducts(filteredProducts);\n      setsortedProductsduplicate(filteredProducts);\n      setselectedSubcategory(e);\n      if (filteredProducts.length < 9) {\n        if (scrollBarWidth > 0) {\n          setScrollWidth(scrollBarWidth);\n        }\n      } else {\n        setScrollWidth(0);\n      }\n    }\n    setToggle(false);\n  };\n\n  // add/remove  products in favorites\n  const addToFavourite = (product, clickarea) => {\n    let checkfavoruite;\n    if (clickarea == \"fromproductpage\") {\n      console.log(\"i am working\");\n    } else {\n      checkfavoruite = favourite === null || favourite === void 0 ? void 0 : favourite.find(favouriteid => {\n        if (favouriteid.productID == product.productID) {}\n        return favouriteid.productID == product.productID;\n      });\n    }\n    if (checkfavoruite) {\n      let favorites = favourite.filter(element => {\n        return element.productID !== product.productID;\n      });\n      console.log(\"removed from favourite\");\n      setFavourite(favorites);\n      let favourites2 = favorites === null || favorites === void 0 ? void 0 : favorites.map((elem, index) => {\n        return elem.productID;\n      });\n      setFavoruitearray(favourites2);\n      localStorage.setItem(\"Favourites\", JSON.stringify(favorites));\n      localStorage.setItem(\"FavouritesID\", JSON.stringify(favourites2));\n    } else {\n      let favouritearray = [...favourite];\n      let favoriteArray2 = [...favoriteArray];\n      const newProduct = product;\n      newProduct.user_ID = userID;\n      favouritearray.push(newProduct);\n      favoriteArray2.push(newProduct.productID);\n      setFavourite(favouritearray);\n      console.log(favouritearray, \"added to favourite\");\n      setFavoruitearray(favoriteArray2);\n      localStorage.setItem(\"Favourites\", JSON.stringify(favouritearray));\n      localStorage.setItem(\"FavouritesID\", JSON.stringify(favoriteArray2));\n      console.log(favoriteArray2, \"added to favourite list\");\n    }\n  };\n\n  // generates a random id\n  function generateId() {\n    return Math.random().toString(36).substring(2) + new Date().getTime().toString(36);\n  }\n\n  // hide/show scroll from body when any popup appears/disappear.\n  useEffect(() => {\n    if (login || signup || forgetPassword || confirmUser || showFilter) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"auto\";\n    }\n  }, [login, signup, forgetPassword, confirmUser, showFilter]);\n\n  //parse token and get user details.\n  function parseJwt() {\n    var authData = {\n      UserPoolId: \"ap-northeast-1_5bRhyo0Eq\",\n      ClientId: \"6j2dqmof4oiis8rg3kp1sh7hlb\",\n      RedirectUriSignIn: \"https://salebag-mohsinidrees2817-gmailcom.vercel.app/\",\n      RedirectUriSignOut: \"https://salebag-mohsinidrees2817-gmailcom.vercel.app/\",\n      AppWebDomain: \"salebag2.auth.ap-northeast-1.amazoncognito.com\",\n      TokenScopesArray: [\"email\"]\n    };\n    var auth = new CognitoAuth(authData);\n    auth.userhandler = {\n      onSuccess: function (result) {\n        let token = result.idToken.jwtToken;\n        var base64Url = token.split(\".\")[1];\n        var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n        var jsonPayload = decodeURIComponent(window.atob(base64).split(\"\").map(function (c) {\n          return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(\"\"));\n        let userdata = JSON.parse(jsonPayload);\n        console.log(userdata);\n        let userData = {\n          username: userdata === null || userdata === void 0 ? void 0 : userdata.name,\n          userEmail: userdata === null || userdata === void 0 ? void 0 : userdata.email,\n          picture: (userdata === null || userdata === void 0 ? void 0 : userdata.identities[0].providerName) == \"Facebook\" ? `https://graph.facebook.com/me/picture?access_token=${userdata.picture}` : userdata.picture,\n          userId: userdata === null || userdata === void 0 ? void 0 : userdata.identities[0].userId,\n          expTime: userdata === null || userdata === void 0 ? void 0 : userdata.exp,\n          provider: userdata === null || userdata === void 0 ? void 0 : userdata.identities[0].providerName\n        };\n        let user_ID = userdata === null || userdata === void 0 ? void 0 : userdata.identities[0].userId;\n        setUserDetails(userData);\n        localStorage.setItem(\"user_details\", JSON.stringify(userData));\n        setToken(token);\n        localStorage.setItem(\"token\", token);\n        setUserid(user_ID);\n        localStorage.setItem(\"user_ID\", user_ID);\n        navigate(\"/\");\n      },\n      onFailure: function (err) {\n        console.log(err, \"errrr\");\n      }\n    };\n    var curUrl = window.location.href;\n    auth.parseCognitoWebResponse(curUrl);\n  }\n\n  // to check user is loged in or not and have id or not.\n  const IsloggedIn = () => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const userDetails = JSON.parse(localStorage.getItem(\"user_details\"));\n      const ID = localStorage.getItem(\"user_ID\");\n      token && setToken(token);\n      userDetails && setUserDetails(userDetails);\n      ID && setUserid(ID);\n      const favouritesID = JSON.parse(localStorage.getItem(\"FavouritesID\"));\n      if (favouritesID) {\n        const favourites = JSON.parse(localStorage.getItem(\"Favourites\"));\n        favourites && setFavourite(favourites);\n        favoriteArray && setFavoruitearray(favouritesID);\n      }\n      console.log(\"User already logged in\");\n    } else {\n      const url = window.location;\n      const href = url.href;\n      const strs = href.split(\"#access_token=\");\n      const access_token = strs.at(1);\n      if (access_token !== undefined) {\n        parseJwt();\n        console.log(\"recieved token in url user just logged in\");\n      } else {\n        console.log(\"user not logged in\");\n        const id = localStorage.getItem(\"user_ID\");\n        if (id) {\n          console.log(\"Already Have id\", id);\n          id && setUserid(id);\n          const favouritesID = JSON.parse(localStorage.getItem(\"FavouritesID\"));\n          if (favouritesID) {\n            const favourites = JSON.parse(localStorage.getItem(\"Favourites\"));\n            favourites && setFavourite(favourites);\n            favoriteArray && setFavoruitearray(favouritesID);\n          }\n        } else {\n          let ID = generateId();\n          setUserid(ID);\n          localStorage.setItem(\"user_ID\", ID);\n          console.log(\"Generated an id for user and saved in local storage\", ID);\n        }\n      }\n    }\n  };\n\n  // load all products according to brand and store them in state (alldata).\n  async function loadAllproducts() {\n    let dataarray = [];\n    data.map(async (brand, index) => {\n      let importeddata = await import(`../../../${brand.data}`);\n      let brands = {\n        name: brand.name,\n        data: Object.values(importeddata)\n      };\n      dataarray.push(brands);\n    });\n    setAlldata(dataarray);\n  }\n\n  // function to set products on first load according to brand at zero index and their category.\n  const showFirstProducts = async () => {\n    let filteredItems = allBrands[0];\n    let importeddata = await import(`../../../${filteredItems.data}`);\n    let data = Object.values(importeddata);\n    setSelectedBrand(filteredItems.name);\n    const primaryCategories = filteredItems.categories.map((products, index) => {\n      return products;\n    });\n    setPrimaryCategoriesData(data);\n    setPrimaryCategories(primaryCategories);\n    setSelectedPrimaryCategory(primaryCategories[0].name);\n    let Items = data;\n    let filteredProducts = Items.filter((product, index) => {\n      var _product$category;\n      return (_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category.includes(primaryCategories[0].name);\n    });\n    setsortedProducts(filteredProducts);\n    setsortedProductsduplicate(filteredProducts);\n    setSubCategoriesData(filteredProducts);\n    setSubCategory(filteredItems.categories[0].subCategories);\n    setBrandData(allBrands[0]);\n  };\n  useEffect(() => {\n    loadAllproducts();\n    showFirstProducts();\n    IsloggedIn();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Headercontext.Provider, {\n    value: {\n      sortedproducts,\n      setsortedProducts,\n      primaryCategories,\n      setPrimaryCategories,\n      subCategory,\n      setSubCategory,\n      allBrands,\n      setAllbrands,\n      selectedBrand,\n      selectedPrimaryCategory,\n      setSelectedBrand,\n      setSelectedPrimaryCategory,\n      PrimaryCategoriesData,\n      setPrimaryCategoriesData,\n      selectedSubcategory,\n      setselectedSubcategory,\n      toggle,\n      setToggle,\n      searchterm,\n      setsearchterm,\n      showFilter,\n      setShowfilters,\n      showSort,\n      setShowsort,\n      brandData,\n      setBrandData,\n      subcategoriesData,\n      setSubCategoriesData,\n      searchedProducts,\n      setsearchedProducts,\n      sorting,\n      active,\n      setActive,\n      categories,\n      lenghtofsearch,\n      sortedproductsduplicate,\n      setsortedProductsduplicate,\n      favourite,\n      setFavourite,\n      imageLoad,\n      setImageLoad,\n      favoriteArray,\n      setFavoruitearray,\n      addToFavourite,\n      token,\n      setToken,\n      userDetails,\n      setUserDetails,\n      scrollWidth,\n      login,\n      setLogin,\n      signup,\n      setSignup,\n      forgetPassword,\n      setForgetPassword,\n      toastmessage,\n      setToastMessage,\n      googleLoader,\n      setGoogleloader,\n      facebookLoader,\n      setFacebookloader,\n      confirmUser,\n      setConfirmUser,\n      userID,\n      setUserid,\n      page,\n      setPage\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 378,\n    columnNumber: 5\n  }, this);\n};\n_s(HeaderData, \"s/NI7wKAqiaMhbETuLJvFKbRpjc=\", false, function () {\n  return [useNavigate];\n});\n_c = HeaderData;\nexport default HeaderData;\nvar _c;\n$RefreshReg$(_c, \"HeaderData\");","map":{"version":3,"names":["React","useContext","useState","useEffect","createContext","useNavigate","CognitoAuth","data","jsxDEV","_jsxDEV","Headercontext","HeaderData","_ref","_s","children","navigate","primaryCategories","setPrimaryCategories","subCategory","setSubCategory","allBrands","setAllbrands","sortedproducts","setsortedProducts","sortedproductsduplicate","setsortedProductsduplicate","selectedBrand","setSelectedBrand","selectedPrimaryCategory","setSelectedPrimaryCategory","PrimaryCategoriesData","setPrimaryCategoriesData","selectedSubcategory","setselectedSubcategory","toggle","setToggle","searchterm","setsearchterm","showFilter","setShowfilters","showSort","setShowsort","searchedProducts","setsearchedProducts","brandData","setBrandData","subcategoriesData","setSubCategoriesData","lenghtofsearch","setlengthofseacrh","favourite","setFavourite","favoriteArray","setFavoruitearray","imageLoad","setImageLoad","page","setPage","allData","setAlldata","scrollWidth","setScrollWidth","window","innerWidth","document","body","clientWidth","userID","setUserid","login","setLogin","signup","setSignup","forgetPassword","setForgetPassword","confirmUser","setConfirmUser","toastmessage","setToastMessage","display","message","googleLoader","setGoogleloader","facebookLoader","setFacebookloader","token","setToken","userDetails","setUserDetails","active","setActive","value","content","categories","sorting","e","index","sorttype","subcategoryname","scrollBarWidth","scrollTo","sorteddata","sort","a","b","discountPrice","newPrice","selected","find","item","filteredBrands","brand","filter","name","includes","filteredItems","map","products","Items","filteredProducts","_products$category","category","subCategories","_products$category2","length","product","_product$subSubCatego","subSubCategory","addToFavourite","clickarea","checkfavoruite","console","log","favouriteid","productID","favorites","element","favourites2","elem","localStorage","setItem","JSON","stringify","favouritearray","favoriteArray2","newProduct","user_ID","push","generateId","Math","random","toString","substring","Date","getTime","style","overflow","parseJwt","authData","UserPoolId","ClientId","RedirectUriSignIn","RedirectUriSignOut","AppWebDomain","TokenScopesArray","auth","userhandler","onSuccess","result","idToken","jwtToken","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","c","charCodeAt","slice","join","userdata","parse","userData","username","userEmail","email","picture","identities","providerName","userId","expTime","exp","provider","onFailure","err","curUrl","location","href","parseCognitoWebResponse","IsloggedIn","getItem","ID","favouritesID","favourites","url","strs","access_token","at","undefined","id","loadAllproducts","dataarray","importeddata","brands","Object","values","showFirstProducts","_product$category","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mohsinidrees/Desktop/cognito_project/cognito_integration/src/components/Headerdata/HeaderData.jsx"],"sourcesContent":["import React, { useContext, useState, useEffect, createContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CognitoAuth } from \"amazon-cognito-auth-js\";\nimport data from \"../../../data/navigation.json\";\nexport const Headercontext = createContext();\n\nconst HeaderData = ({ children }) => {\n  const navigate = useNavigate();\n  const [primaryCategories, setPrimaryCategories] = useState([]);\n  const [subCategory, setSubCategory] = useState([]);\n  const [allBrands, setAllbrands] = useState();\n  const [sortedproducts, setsortedProducts] = useState([]);\n  const [sortedproductsduplicate, setsortedProductsduplicate] = useState([]);\n  const [selectedBrand, setSelectedBrand] = useState(\"\");\n  const [selectedPrimaryCategory, setSelectedPrimaryCategory] = useState(\"\");\n  const [PrimaryCategoriesData, setPrimaryCategoriesData] = useState([]);\n  const [selectedSubcategory, setselectedSubcategory] = useState(\"\");\n  const [toggle, setToggle] = useState(false);\n  const [searchterm, setsearchterm] = useState(\"\");\n  const [showFilter, setShowfilters] = useState(false);\n  const [showSort, setShowsort] = useState(false);\n  const [searchedProducts, setsearchedProducts] = useState(sortedproducts);\n  const [brandData, setBrandData] = useState([]);\n  const [subcategoriesData, setSubCategoriesData] = useState([]);\n  const [lenghtofsearch, setlengthofseacrh] = useState(0);\n  const [favourite, setFavourite] = useState([]);\n  const [favoriteArray, setFavoruitearray] = useState([]);\n  const [imageLoad, setImageLoad] = useState(true);\n  const [page, setPage] = useState(1);\n\n  const [allData, setAlldata] = useState([]);\n  const [scrollWidth, setScrollWidth] = useState(\n    window.innerWidth - document.body.clientWidth\n  );\n  const [userID, setUserid] = useState(\"\");\n\n  // states for displaying popups\n  const [login, setLogin] = useState(false);\n  const [signup, setSignup] = useState(false);\n  const [forgetPassword, setForgetPassword] = useState(false);\n  const [confirmUser, setConfirmUser] = useState(false);\n\n\n  // react toast notification\n  const [toastmessage, setToastMessage] = useState({\n    display: false,\n    message: \"\",\n  });\n\n\n  // loader for social icons\n  const [googleLoader, setGoogleloader] = useState(false);\n  const [facebookLoader, setFacebookloader] = useState(false);\n\n  const [token, setToken] = useState(null);\n  const [userDetails, setUserDetails] = useState({});\n\n  const [active, setActive] = useState({\n    value: \"unattended\",\n    content: \"Sort by Price\",\n  });\n\n\n  const categories = [\n    { value: \"lowestprice\", content: \"Sort by Price (lowest)\" },\n    { value: \"highestprice\", content: \"Sort by Price (highest)\" },\n  ];\n\n\n  // sorting according to lowest/highest, categories, brands, subcatgories\n  const sorting = async (e, index, sorttype, subcategoryname) => {\n    const scrollBarWidth = window.innerWidth - document.body.clientWidth;\n    window.scrollTo(0, 0);\n    let sorteddata = [...sortedproducts];\n    if (e == \"All\") {\n      sorteddata.sort((a, b) => a.discountPrice - b.discountPrice);\n      setselectedSubcategory(\"Products\");\n    } else if (e == \"lowestprice\") {\n      sorteddata.sort((a, b) => a.newPrice - b.newPrice);\n      setsortedProducts(sorteddata);\n      setsortedProductsduplicate(sorteddata);\n      setToggle(false);\n      let selected = categories?.find((item) => item.value == e);\n      setActive(selected);\n    } else if (e == \"highestprice\") {\n      sorteddata.sort((a, b) => b.newPrice - a.newPrice);\n      setsortedProducts(sorteddata);\n      setsortedProductsduplicate(sorteddata);\n      setToggle(false);\n      let selected = categories?.find((item) => item.value == e);\n      setActive(selected);\n    } else if (sorttype == \"brands\") {\n      if (e !== selectedBrand) {\n        setPage(1);\n        setImageLoad(true);\n        setselectedSubcategory(\"\");\n        let filteredBrands = allData;\n        let brand = filteredBrands.filter((brand) => {\n          return brand.name.includes(e);\n        });\n        let filteredItems = data[index];\n        const primaryCategories = filteredItems.categories.map((products) => {\n          return products;\n        });\n        setPrimaryCategories(primaryCategories);\n        setBrandData(data[index]);\n        let Items = brand[0].data;\n        let filteredProducts = Items.filter((products) => {\n          return products.category?.includes(filteredItems.categories[0].name);\n        });\n        setSelectedBrand(e);\n        setPrimaryCategoriesData(brand[0].data);\n        setSelectedPrimaryCategory(filteredItems.categories[0].name);\n        setsortedProducts(filteredProducts);\n        setsortedProductsduplicate(filteredProducts);\n        setSubCategoriesData(filteredProducts);\n        setSubCategory(filteredItems.categories[0].subCategories);\n\n      }\n    } else if (sorttype == \"categories\") {\n      if (e !== selectedPrimaryCategory) {\n        setPage(1);\n        setImageLoad(true);\n        setselectedSubcategory(\"\");\n        let filteredItems = PrimaryCategoriesData;\n        let filteredProducts = filteredItems.filter((products) => {\n          return products.category?.includes(e);\n        });\n        setsortedProducts(filteredProducts);\n        setsortedProductsduplicate(filteredProducts);\n        setSubCategoriesData(filteredProducts);\n        setSelectedPrimaryCategory(e);\n        if (filteredProducts.length < 8) {\n          if (scrollBarWidth > 0) {\n            setScrollWidth(scrollBarWidth);\n          }\n        } else {\n          setScrollWidth(0);\n        }\n        let Items = brandData;\n        setSubCategory(Items.categories[index].subCategories);\n      }\n    } else if (sorttype == \"subcategories\") {\n      setPage(1);\n      let filteredItems = subcategoriesData;\n      let filteredProducts = filteredItems.filter((product) => {\n        return product.subSubCategory?.includes(e);\n      });\n      setsortedProducts(filteredProducts);\n      setsortedProductsduplicate(filteredProducts);\n      setselectedSubcategory(e);\n      if (filteredProducts.length < 9) {\n        if (scrollBarWidth > 0) {\n          setScrollWidth(scrollBarWidth);\n        }\n      } else {\n        setScrollWidth(0);\n      }\n  }\n    setToggle(false);\n  };\n\n  // add/remove  products in favorites\n  const addToFavourite = (product, clickarea) => {\n    let checkfavoruite;\n    if (clickarea == \"fromproductpage\") {\n      console.log(\"i am working\");\n    } else {\n      checkfavoruite = favourite?.find((favouriteid) => {\n        if (favouriteid.productID == product.productID) {\n        }\n        return favouriteid.productID == product.productID;\n      });\n    }\n\n    if (checkfavoruite) {\n      let favorites = favourite.filter((element) => {\n        return element.productID !== product.productID;\n      });\n      console.log(\"removed from favourite\");\n      setFavourite(favorites);\n      let favourites2 = favorites?.map((elem, index) => {\n        return elem.productID;\n      });\n      setFavoruitearray(favourites2);\n      localStorage.setItem(\"Favourites\", JSON.stringify(favorites));\n      localStorage.setItem(\"FavouritesID\", JSON.stringify(favourites2));\n    } else {\n      let favouritearray = [...favourite];\n      let favoriteArray2 = [...favoriteArray];\n      const newProduct = product;\n      newProduct.user_ID = userID;\n      favouritearray.push(newProduct);\n      favoriteArray2.push(newProduct.productID);\n      setFavourite(favouritearray);\n      console.log(favouritearray, \"added to favourite\");\n      setFavoruitearray(favoriteArray2);\n      localStorage.setItem(\"Favourites\", JSON.stringify(favouritearray));\n      localStorage.setItem(\"FavouritesID\", JSON.stringify(favoriteArray2));\n      console.log(favoriteArray2, \"added to favourite list\");\n    }\n  };\n\n  // generates a random id\n  function generateId() {\n    return (\n      Math.random().toString(36).substring(2) +\n      new Date().getTime().toString(36)\n    );\n  }\n\n  // hide/show scroll from body when any popup appears/disappear.\n  useEffect(() => {\n    if (login || signup || forgetPassword || confirmUser || showFilter) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"auto\";\n    }\n  }, [login, signup, forgetPassword, confirmUser, showFilter]);\n\n  //parse token and get user details.\n  function parseJwt() {\n    var authData = {\n      UserPoolId: \"ap-northeast-1_5bRhyo0Eq\",\n      ClientId: \"6j2dqmof4oiis8rg3kp1sh7hlb\",\n      RedirectUriSignIn:\n        \"https://salebag-mohsinidrees2817-gmailcom.vercel.app/\",\n      RedirectUriSignOut:\n        \"https://salebag-mohsinidrees2817-gmailcom.vercel.app/\",\n      AppWebDomain: \"salebag2.auth.ap-northeast-1.amazoncognito.com\",\n      TokenScopesArray: [\"email\"],\n    };\n    var auth = new CognitoAuth(authData);\n    auth.userhandler = {\n      onSuccess: function (result) {\n        let token = result.idToken.jwtToken;\n        var base64Url = token.split(\".\")[1];\n        var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n        var jsonPayload = decodeURIComponent(\n          window\n            .atob(base64)\n            .split(\"\")\n            .map(function (c) {\n              return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n            })\n            .join(\"\")\n        );\n        let userdata = JSON.parse(jsonPayload);\n        console.log(userdata);\n        let userData = {\n          username: userdata?.name,\n          userEmail: userdata?.email,\n          picture:\n            userdata?.identities[0].providerName == \"Facebook\"\n              ? `https://graph.facebook.com/me/picture?access_token=${userdata.picture}`\n              : userdata.picture,\n          userId: userdata?.identities[0].userId,\n          expTime: userdata?.exp,\n          provider: userdata?.identities[0].providerName,\n        };\n        let user_ID = userdata?.identities[0].userId;\n\n        setUserDetails(userData);\n        localStorage.setItem(\"user_details\", JSON.stringify(userData));\n        setToken(token);\n        localStorage.setItem(\"token\", token);\n        setUserid(user_ID);\n        localStorage.setItem(\"user_ID\", user_ID);\n        navigate(\"/\");\n      },\n      onFailure: function (err) {\n        console.log(err, \"errrr\");\n      },\n    };\n    var curUrl = window.location.href;\n    auth.parseCognitoWebResponse(curUrl);\n  }\n\n  // to check user is loged in or not and have id or not.\n  const IsloggedIn = () => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const userDetails = JSON.parse(localStorage.getItem(\"user_details\"));\n      const ID = localStorage.getItem(\"user_ID\");\n      token && setToken(token);\n      userDetails && setUserDetails(userDetails);\n      ID && setUserid(ID);\n\n      const favouritesID = JSON.parse(localStorage.getItem(\"FavouritesID\"));\n      if (favouritesID) {\n        const favourites = JSON.parse(localStorage.getItem(\"Favourites\"));\n        favourites && setFavourite(favourites);\n        favoriteArray && setFavoruitearray(favouritesID);\n      }\n      console.log(\"User already logged in\");\n    } else {\n      const url = window.location;\n      const href = url.href;\n      const strs = href.split(\"#access_token=\");\n      const access_token = strs.at(1);\n      if (access_token !== undefined) {\n        parseJwt();\n        console.log(\"recieved token in url user just logged in\");\n      } else {\n        console.log(\"user not logged in\");\n        const id = localStorage.getItem(\"user_ID\");\n        if (id) {\n          console.log(\"Already Have id\", id);\n          id && setUserid(id);\n\n          const favouritesID = JSON.parse(localStorage.getItem(\"FavouritesID\"));\n          if (favouritesID) {\n            const favourites = JSON.parse(localStorage.getItem(\"Favourites\"));\n            favourites && setFavourite(favourites);\n            favoriteArray && setFavoruitearray(favouritesID);\n          }\n\n        } else {\n          let ID = generateId();\n          setUserid(ID);\n          localStorage.setItem(\"user_ID\", ID);\n          console.log(\n            \"Generated an id for user and saved in local storage\",\n            ID\n          );\n        }\n      }\n    }\n  };\n  \n\n  // load all products according to brand and store them in state (alldata).\n  async function loadAllproducts() {\n    let dataarray = [];\n    data.map(async (brand, index) => {\n      let importeddata = await import(`../../../${brand.data}`);\n      let brands = {\n        name: brand.name,\n        data: Object.values(importeddata),\n      };\n      dataarray.push(brands);\n    });\n    setAlldata(dataarray);\n  }\n\n  // function to set products on first load according to brand at zero index and their category.\n  const showFirstProducts = async () => {\n    let filteredItems = allBrands[0];\n    let importeddata = await import(`../../../${filteredItems.data}`);\n    let data = Object.values(importeddata);\n    setSelectedBrand(filteredItems.name);\n    const primaryCategories = filteredItems.categories.map(\n      (products, index) => {\n        return products;\n      }\n    );\n    setPrimaryCategoriesData(data);\n    setPrimaryCategories(primaryCategories);\n    setSelectedPrimaryCategory(primaryCategories[0].name);\n    let Items = data;\n    let filteredProducts = Items.filter((product, index) => {\n      return product.category?.includes(primaryCategories[0].name);\n    });\n    setsortedProducts(filteredProducts);\n    setsortedProductsduplicate(filteredProducts);\n    setSubCategoriesData(filteredProducts);\n    setSubCategory(filteredItems.categories[0].subCategories);\n    setBrandData(allBrands[0]);\n  };\n\n  useEffect(() => {\n    loadAllproducts();\n    showFirstProducts();\n    IsloggedIn();\n  }, []);\n\n  return (\n    <Headercontext.Provider\n      value={{\n        sortedproducts,\n        setsortedProducts,\n        primaryCategories,\n        setPrimaryCategories,\n        subCategory,\n        setSubCategory,\n        allBrands,\n        setAllbrands,\n        selectedBrand,\n        selectedPrimaryCategory,\n        setSelectedBrand,\n        setSelectedPrimaryCategory,\n        PrimaryCategoriesData,\n        setPrimaryCategoriesData,\n        selectedSubcategory,\n        setselectedSubcategory,\n        toggle,\n        setToggle,\n        searchterm,\n        setsearchterm,\n        showFilter,\n        setShowfilters,\n        showSort,\n        setShowsort,\n        brandData,\n        setBrandData,\n        subcategoriesData,\n        setSubCategoriesData,\n        searchedProducts,\n        setsearchedProducts,\n        sorting,\n        active,\n        setActive,\n        categories,\n        lenghtofsearch,\n        sortedproductsduplicate,\n        setsortedProductsduplicate,\n        favourite,\n        setFavourite,\n        imageLoad,\n        setImageLoad,\n        favoriteArray,\n        setFavoruitearray,\n        addToFavourite,\n        token,\n        setToken,\n        userDetails,\n        setUserDetails,\n        scrollWidth,\n        login,\n        setLogin,\n        signup,\n        setSignup,\n        forgetPassword,\n        setForgetPassword,\n        toastmessage,\n        setToastMessage,\n        googleLoader,\n        setGoogleloader,\n        facebookLoader,\n        setFacebookloader,\n        confirmUser,\n        setConfirmUser,\n        userID,\n        setUserid,\n        page,\n        setPage,\n      }}\n    >\n      {children}\n    </Headercontext.Provider>\n  );\n};\n\nexport default HeaderData;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}