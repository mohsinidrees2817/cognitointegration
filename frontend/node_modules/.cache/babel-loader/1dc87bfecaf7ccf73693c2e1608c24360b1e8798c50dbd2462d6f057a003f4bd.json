{"ast":null,"code":"var _jsxFileName = \"/Users/mohsinidrees/Desktop/cognito_project/frontend/src/components/authentication/Signup.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Headercontext } from \"../Headerdata/HeaderData\";\nimport SocialButton from \"./SocialButton\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Layout from \"../layout\";\nimport Innerlayout from \"../layout/Innerlayout\";\nimport Inputbox from \"../common/Inputbox\";\nimport Error from \"../common/Error\";\nimport Passwordbox from \"../common/Passwordbox\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    token,\n    setSignup,\n    setLogin,\n    setToastMessage\n  } = useContext(Headercontext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState({\n    isError: false,\n    message: \"\"\n  });\n  var AmazonCognitoIdentity = require(\"amazon-cognito-identity-js\");\n  useEffect(() => {\n    setError({\n      isError: false,\n      message: \"\"\n    });\n  }, [email, password, name, confirmCode, confirmpassword]);\n  const poolData = {\n    UserPoolId: \"ap-northeast-1_ZpGAnFl7V\",\n    ClientId: \"7c3np67ouk443m5mmer7ajmi2\"\n  };\n  var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n  var attributeList = [];\n  var dataEmail = {\n    Name: \"email\",\n    Value: email\n  };\n  var dataName = {\n    Name: \"name\",\n    Value: name\n  };\n  var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(dataEmail);\n  var attributeName = new AmazonCognitoIdentity.CognitoUserAttribute(dataName);\n  attributeList.push(attributeEmail);\n  attributeList.push(attributeName);\n  const onSubmit = e => {\n    e.preventDefault();\n    if (password != confirmpassword) {\n      setError({\n        isError: true,\n        message: \"Passwords do not match\"\n      });\n    } else {\n      setLoader(true);\n      // if (!userConfirm) {\n      userPool.signUp(email, password, attributeList, null, function (err, result) {\n        if (err) {\n          // toast(err.message || JSON.stringify(err));\n          setLoader(false);\n          setError({\n            isError: true,\n            message: err.message || JSON.stringify(err)\n          });\n          return;\n        }\n        setLoader(false);\n        setUserConfirm(true);\n        console.log(result, \"resultsss\");\n        setError({\n          isError: false,\n          message: \"\"\n        });\n        navigate(\"/verify\");\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Innerlayout, {\n      heading: \"Sign up\",\n      onSubmit: e => onSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(Inputbox, {\n        type: \"email\",\n        placeholder: \"Email*\",\n        required: true,\n        handlechange: e => {\n          setEmail(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Inputbox, {\n        type: \"text\",\n        placeholder: \"Name\",\n        handlechange: e => {\n          setName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Passwordbox, {\n        placeholder: \"Password*\",\n        required: true,\n        handlechange: e => {\n          setPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Passwordbox, {\n        placeholder: \"Confirm Passsword*\",\n        required: true,\n        handlechange: e => {\n          setConfirmPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), error.isError && /*#__PURE__*/_jsxDEV(Error, {\n        errormessage: error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Signup-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signup-cancel\",\n            children: \"CANCEL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"signup-button\",\n          type: \"submit\",\n          children: \"SIGN UP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(Signup, \"IJc+QhhpYcLtlDOGwvPiXWhHiXk=\", false, function () {\n  return [useNavigate];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Headercontext","SocialButton","ToastContainer","Layout","Innerlayout","Inputbox","Error","Passwordbox","Link","useNavigate","jsxDEV","_jsxDEV","Signup","_s","navigate","token","setSignup","setLogin","setToastMessage","email","setEmail","password","setPassword","confirmpassword","setConfirmPassword","name","setName","error","setError","isError","message","AmazonCognitoIdentity","require","confirmCode","poolData","UserPoolId","ClientId","userPool","CognitoUserPool","attributeList","dataEmail","Name","Value","dataName","attributeEmail","CognitoUserAttribute","attributeName","push","onSubmit","e","preventDefault","setLoader","signUp","err","result","JSON","stringify","setUserConfirm","console","log","children","heading","type","placeholder","required","handlechange","target","value","fileName","_jsxFileName","lineNumber","columnNumber","errormessage","className","to","_c","$RefreshReg$"],"sources":["/Users/mohsinidrees/Desktop/cognito_project/frontend/src/components/authentication/Signup.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Headercontext } from \"../Headerdata/HeaderData\";\nimport SocialButton from \"./SocialButton\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Layout from \"../layout\";\nimport Innerlayout from \"../layout/Innerlayout\";\nimport Inputbox from \"../common/Inputbox\";\nimport Error from \"../common/Error\";\nimport Passwordbox from \"../common/Passwordbox\";\nimport { Link } from \"react-router-dom\";\n\nimport { useNavigate } from \"react-router-dom\";\n\nconst Signup = () => {\n  const navigate = useNavigate();\n  const { token, setSignup, setLogin, setToastMessage } =\n    useContext(Headercontext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\n\n  const [name, setName] = useState(\"\");\n\n  const [error, setError] = useState({\n    isError: false,\n    message: \"\",\n  });\n\n  var AmazonCognitoIdentity = require(\"amazon-cognito-identity-js\");\n\n  useEffect(() => {\n    setError({\n      isError: false,\n      message: \"\",\n    });\n  }, [email, password, name, confirmCode, confirmpassword]);\n\n  const poolData = {\n    UserPoolId: \"ap-northeast-1_ZpGAnFl7V\",\n    ClientId: \"7c3np67ouk443m5mmer7ajmi2\",\n  };\n\n  var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n\n  var attributeList = [];\n\n  var dataEmail = {\n    Name: \"email\",\n    Value: email,\n  };\n\n  var dataName = {\n    Name: \"name\",\n    Value: name,\n  };\n\n  var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(\n    dataEmail\n  );\n\n  var attributeName = new AmazonCognitoIdentity.CognitoUserAttribute(dataName);\n\n  attributeList.push(attributeEmail);\n  attributeList.push(attributeName);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (password != confirmpassword) {\n      setError({\n        isError: true,\n        message: \"Passwords do not match\",\n      });\n    } else {\n      setLoader(true);\n      // if (!userConfirm) {\n      userPool.signUp(\n        email,\n        password,\n        attributeList,\n        null,\n        function (err, result) {\n          if (err) {\n            // toast(err.message || JSON.stringify(err));\n            setLoader(false);\n            setError({\n              isError: true,\n              message: err.message || JSON.stringify(err),\n            });\n            return;\n          }\n          setLoader(false);\n          setUserConfirm(true);\n          console.log(result, \"resultsss\");\n          setError({\n            isError: false,\n            message: \"\",\n          });\n          navigate(\"/verify\");\n        }\n      );\n    }\n  };\n\n  return (\n    <Layout>\n      <Innerlayout heading={\"Sign up\"} onSubmit={(e) => onSubmit(e)}>\n        <Inputbox\n          type=\"email\"\n          placeholder=\"Email*\"\n          required\n          handlechange={(e) => {\n            setEmail(e.target.value);\n          }}\n        />\n        <Inputbox\n          type=\"text\"\n          placeholder=\"Name\"\n          handlechange={(e) => {\n            setName(e.target.value);\n          }}\n        />\n        <Passwordbox\n          placeholder=\"Password*\"\n          required\n          handlechange={(e) => {\n            setPassword(e.target.value);\n          }}\n        />\n        <Passwordbox\n          placeholder=\"Confirm Passsword*\"\n          required\n          handlechange={(e) => {\n            setConfirmPassword(e.target.value);\n          }}\n        />\n        {error.isError && <Error errormessage={error.message} />}\n        <div className=\"Signup-buttons\">\n          <Link to=\"/\">\n            <div className=\"signup-cancel\">CANCEL</div>\n          </Link>\n\n          <button className=\"signup-button\" type=\"submit\">\n            SIGN UP\n          </button>\n        </div>\n      </Innerlayout>\n    </Layout>\n  );\n};\n\nexport default Signup;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,aAAa,QAAQ,0BAA0B;AACxD,OAAOC,YAAY,MAAM,gBAAgB;AACzC,SAASC,cAAc,QAAQ,gBAAgB;AAC/C,OAAO,uCAAuC;AAC9C,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,OAAOC,QAAQ,MAAM,oBAAoB;AACzC,OAAOC,KAAK,MAAM,iBAAiB;AACnC,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,SAASC,IAAI,QAAQ,kBAAkB;AAEvC,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEM,KAAK;IAAEC,SAAS;IAAEC,QAAQ;IAAEC;EAAgB,CAAC,GACnDnB,UAAU,CAACC,aAAa,CAAC;EAC3B,MAAM,CAACmB,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwB,QAAQ,EAAEC,WAAW,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC0B,eAAe,EAAEC,kBAAkB,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAE1D,MAAM,CAAC4B,IAAI,EAAEC,OAAO,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAEpC,MAAM,CAAC8B,KAAK,EAAEC,QAAQ,CAAC,GAAG/B,QAAQ,CAAC;IACjCgC,OAAO,EAAE,KAAK;IACdC,OAAO,EAAE;EACX,CAAC,CAAC;EAEF,IAAIC,qBAAqB,GAAGC,OAAO,CAAC,4BAA4B,CAAC;EAEjElC,SAAS,CAAC,MAAM;IACd8B,QAAQ,CAAC;MACPC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,EAAE,CAACX,KAAK,EAAEE,QAAQ,EAAEI,IAAI,EAAEQ,WAAW,EAAEV,eAAe,CAAC,CAAC;EAEzD,MAAMW,QAAQ,GAAG;IACfC,UAAU,EAAE,0BAA0B;IACtCC,QAAQ,EAAE;EACZ,CAAC;EAED,IAAIC,QAAQ,GAAG,IAAIN,qBAAqB,CAACO,eAAe,CAACJ,QAAQ,CAAC;EAElE,IAAIK,aAAa,GAAG,EAAE;EAEtB,IAAIC,SAAS,GAAG;IACdC,IAAI,EAAE,OAAO;IACbC,KAAK,EAAEvB;EACT,CAAC;EAED,IAAIwB,QAAQ,GAAG;IACbF,IAAI,EAAE,MAAM;IACZC,KAAK,EAAEjB;EACT,CAAC;EAED,IAAImB,cAAc,GAAG,IAAIb,qBAAqB,CAACc,oBAAoB,CACjEL,SACF,CAAC;EAED,IAAIM,aAAa,GAAG,IAAIf,qBAAqB,CAACc,oBAAoB,CAACF,QAAQ,CAAC;EAE5EJ,aAAa,CAACQ,IAAI,CAACH,cAAc,CAAC;EAClCL,aAAa,CAACQ,IAAI,CAACD,aAAa,CAAC;EAEjC,MAAME,QAAQ,GAAIC,CAAC,IAAK;IACtBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI7B,QAAQ,IAAIE,eAAe,EAAE;MAC/BK,QAAQ,CAAC;QACPC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,MAAM;MACLqB,SAAS,CAAC,IAAI,CAAC;MACf;MACAd,QAAQ,CAACe,MAAM,CACbjC,KAAK,EACLE,QAAQ,EACRkB,aAAa,EACb,IAAI,EACJ,UAAUc,GAAG,EAAEC,MAAM,EAAE;QACrB,IAAID,GAAG,EAAE;UACP;UACAF,SAAS,CAAC,KAAK,CAAC;UAChBvB,QAAQ,CAAC;YACPC,OAAO,EAAE,IAAI;YACbC,OAAO,EAAEuB,GAAG,CAACvB,OAAO,IAAIyB,IAAI,CAACC,SAAS,CAACH,GAAG;UAC5C,CAAC,CAAC;UACF;QACF;QACAF,SAAS,CAAC,KAAK,CAAC;QAChBM,cAAc,CAAC,IAAI,CAAC;QACpBC,OAAO,CAACC,GAAG,CAACL,MAAM,EAAE,WAAW,CAAC;QAChC1B,QAAQ,CAAC;UACPC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE;QACX,CAAC,CAAC;QACFhB,QAAQ,CAAC,SAAS,CAAC;MACrB,CACF,CAAC;IACH;EACF,CAAC;EAED,oBACEH,OAAA,CAACR,MAAM;IAAAyD,QAAA,eACLjD,OAAA,CAACP,WAAW;MAACyD,OAAO,EAAE,SAAU;MAACb,QAAQ,EAAGC,CAAC,IAAKD,QAAQ,CAACC,CAAC,CAAE;MAAAW,QAAA,gBAC5DjD,OAAA,CAACN,QAAQ;QACPyD,IAAI,EAAC,OAAO;QACZC,WAAW,EAAC,QAAQ;QACpBC,QAAQ;QACRC,YAAY,EAAGhB,CAAC,IAAK;UACnB7B,QAAQ,CAAC6B,CAAC,CAACiB,MAAM,CAACC,KAAK,CAAC;QAC1B;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACF5D,OAAA,CAACN,QAAQ;QACPyD,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,MAAM;QAClBE,YAAY,EAAGhB,CAAC,IAAK;UACnBvB,OAAO,CAACuB,CAAC,CAACiB,MAAM,CAACC,KAAK,CAAC;QACzB;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACF5D,OAAA,CAACJ,WAAW;QACVwD,WAAW,EAAC,WAAW;QACvBC,QAAQ;QACRC,YAAY,EAAGhB,CAAC,IAAK;UACnB3B,WAAW,CAAC2B,CAAC,CAACiB,MAAM,CAACC,KAAK,CAAC;QAC7B;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACF5D,OAAA,CAACJ,WAAW;QACVwD,WAAW,EAAC,oBAAoB;QAChCC,QAAQ;QACRC,YAAY,EAAGhB,CAAC,IAAK;UACnBzB,kBAAkB,CAACyB,CAAC,CAACiB,MAAM,CAACC,KAAK,CAAC;QACpC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EACD5C,KAAK,CAACE,OAAO,iBAAIlB,OAAA,CAACL,KAAK;QAACkE,YAAY,EAAE7C,KAAK,CAACG;MAAQ;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACxD5D,OAAA;QAAK8D,SAAS,EAAC,gBAAgB;QAAAb,QAAA,gBAC7BjD,OAAA,CAACH,IAAI;UAACkE,EAAE,EAAC,GAAG;UAAAd,QAAA,eACVjD,OAAA;YAAK8D,SAAS,EAAC,eAAe;YAAAb,QAAA,EAAC;UAAM;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eAEP5D,OAAA;UAAQ8D,SAAS,EAAC,eAAe;UAACX,IAAI,EAAC,QAAQ;UAAAF,QAAA,EAAC;QAEhD;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEb,CAAC;AAAC1D,EAAA,CAvIID,MAAM;EAAA,QACOH,WAAW;AAAA;AAAAkE,EAAA,GADxB/D,MAAM;AAyIZ,eAAeA,MAAM;AAAC,IAAA+D,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}